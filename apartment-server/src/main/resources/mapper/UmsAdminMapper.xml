<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.admin.apartment.mapper.UmsAdminMapper">

    <select id="selectOneByInfo" parameterType="com.admin.apartment.entity.UmsAdmin" resultType="com.admin.apartment.entity.UmsAdmin">
        select * from ums_admin
        <where>
            1=1
            <if test="id != 0">
                and id=#{id}
            </if>
            <if test="username != null">
                and username=#{username}
            </if>
            <if test="password != null">
                and password=#{password}
            </if>
        </where>
    </select>

    <!--  通过 Username 更改用户最近登录时间  -->
    <update id="updateByUsername" parameterType="java.lang.String">
        update ums_admin set login_time = now()
        where username=#{username}
    </update>


</mapper>
